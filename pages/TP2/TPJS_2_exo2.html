<html> <!--A PUSHER SUR LE GIT-->
   
	<head>
		    <script type="text/javascript">

            function onload(){
              var canvas = document.getElementById("myCanvas");
              var position = 0;
              var tailleCarre = 50;
              var ctx = canvas.getContext("2d");
              var stop = false;
              var limitCanvas = canvas.width;

              function moveSquare(){ //timer correspond à l'id du timer généré au moment de l'appel de setInterval              
                clearCanvas(ctx);
                drawSquare(ctx);
                
                if(position >= limitCanvas - tailleCarre){
                  clearInterval(timer);
                }
                console.log("Pass")
              }
            
              var timer = setInterval(moveSquare, 10);
              
              

              

              /*
              function eventListenerProgress(){
                  //console.log("progress")
                  var ctx = canvas.getContext("2d");
                  percent = audio.currentTime/audio.duration
                  drawArcBar(ctx, percent);
                  drawLineBar(ctx, percent);
              }
              audio.addEventListener("timeupdate",eventListenerProgress) //attache un listener a l'objet audio sur l'événement timeupdate
              
              function drawLineBar(context, percent){
                  console.log(percent);
                  clearCanvas(context)
                  context.moveTo(0,0); //(x,y)
                  context.lineTo(200*percent, 0);
                  context.stroke();
                  //console.log((audio.currentTime/audio.duration));
              }

              function drawArcBar(context, percent){
                  clearCanvas(context)
                  context.arc(50, 50, 10, 0, percent*2*Math.PI, false);
                  context.stroke()
              }
              */

              function drawSquare(context){
                context.rect(position, 0, tailleCarre, tailleCarre);
                context.fillStyle = "#FF0000";
                position = position + 1;
                context.fill();
              }

              function clearCanvas(context){
                  context.clearRect(0,0, canvas.width, canvas.height); //nettoie le canevas
                  context.beginPath(); //nettoie la pile de traits stockés dans le contexte
              }
            }
		</script>
	</head>
	 
	<body onload='onload()'>
      <canvas id="myCanvas" width="600" height="600"></canvas>
      
  </body>
	
</html>
